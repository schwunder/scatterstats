In Bayesian statistics, the posterior predictive distribution is the distribution of possible unobserved values conditional on the observed values.Given a set of N i.i.d. observations \n  \n    \n      \n        \n          X\n        \n        =\n        {\n        \n          x\n          \n            1\n          \n        \n        ,\n        \u2026\n        ,\n        \n          x\n          \n            N\n          \n        \n        }\n      \n    \n    {\\displaystyle \\mathbf {X} =\\{x_{1},\\dots ,x_{N}\\}}\n  , a new value \n  \n    \n      \n        \n          \n            \n              x\n              ~\n            \n          \n        \n      \n    \n    {\\displaystyle {\\tilde {x}}}\n   will be drawn from a distribution that depends on a parameter \n  \n    \n      \n        \u03b8\n        \u2208\n        \u0398\n      \n    \n    {\\displaystyle \\theta \\in \\Theta }\n  :\n\n  \n    \n      \n        p\n        (\n        \n          \n            \n              x\n              ~\n            \n          \n        \n        \n          |\n        \n        \u03b8\n        )\n      \n    \n    {\\displaystyle p({\\tilde {x}}|\\theta )}\n  It may seem tempting to plug in a single best estimate \n  \n    \n      \n        \n          \n            \n              \u03b8\n              ^\n            \n          \n        \n      \n    \n    {\\displaystyle {\\hat {\\theta }}}\n   for \n  \n    \n      \n        \u03b8\n      \n    \n    {\\displaystyle \\theta }\n  , but this ignores uncertainty about \n  \n    \n      \n        \u03b8\n      \n    \n    {\\displaystyle \\theta }\n  , and because a source of uncertainty is ignored, the predicted distribution will be too narrow. Extreme values of \n  \n    \n      \n        \n          \n            \n              x\n              ~\n            \n          \n        \n      \n    \n    {\\displaystyle {\\tilde {x}}}\n   will occur more often than the posterior distribution suggests.\nA posterior predictive distribution accounts for uncertainty about \n  \n    \n      \n        \u03b8\n      \n    \n    {\\displaystyle \\theta }\n  . The posterior distribution of possible \n  \n    \n      \n        \u03b8\n      \n    \n    {\\displaystyle \\theta }\n   values depends on \n  \n    \n      \n        \n          X\n        \n      \n    \n    {\\displaystyle \\mathbf {X} }\n  :\n\n  \n    \n      \n        p\n        (\n        \u03b8\n        \n          |\n        \n        \n          X\n        \n        )\n      \n    \n    {\\displaystyle p(\\theta |\\mathbf {X} )}\n  And the posterior predictive distribution of \n  \n    \n      \n        \n          \n            \n              x\n              ~\n            \n          \n        \n      \n    \n    {\\displaystyle {\\tilde {x}}}\n   given \n  \n    \n      \n        \n          X\n        \n      \n    \n    {\\displaystyle \\mathbf {X} }\n   is calculated by marginalizing the distribution of \n  \n    \n      \n        \n          \n            \n              x\n              ~\n            \n          \n        \n      \n    \n    {\\displaystyle {\\tilde {x}}}\n   given \n  \n    \n      \n        \u03b8\n      \n    \n    {\\displaystyle \\theta }\n   over the posterior distribution of \n  \n    \n      \n        \u03b8\n      \n    \n    {\\displaystyle \\theta }\n   given \n  \n    \n      \n        \n          X\n        \n      \n    \n    {\\displaystyle \\mathbf {X} }\n  :\n\n  \n    \n      \n        p\n        (\n        \n          \n            \n              x\n              ~\n            \n          \n        \n        \n          |\n        \n        \n          X\n        \n        )\n        =\n        \n          \u222b\n          \n            \u0398\n          \n        \n        p\n        (\n        \n          \n            \n              x\n              ~\n            \n          \n        \n        \n          |\n        \n        \u03b8\n        ,\n        \n          X\n        \n        )\n        \n        p\n        (\n        \u03b8\n        \n          |\n        \n        \n          X\n        \n        )\n        d\n        \n        \u03b8\n      \n    \n    {\\displaystyle p({\\tilde {x}}|\\mathbf {X} )=\\int _{\\Theta }p({\\tilde {x}}|\\theta ,\\mathbf {X} )\\,p(\\theta |\\mathbf {X} )\\operatorname {d} \\!\\theta }\n  Because it accounts for uncertainty about \n  \n    \n      \n        \u03b8\n      \n    \n    {\\displaystyle \\theta }\n  , the posterior predictive distribution will in general be wider than a predictive distribution which plugs in a single best estimate for \n  \n    \n      \n        \u03b8\n      \n    \n    {\\displaystyle \\theta }\n  . \n\n\n== Prior vs. posterior predictive distribution ==\nThe prior predictive distribution, in a Bayesian context, is the distribution of a data point marginalized over its prior distribution.  That is, if \n  \n    \n      \n        \n          \n            \n              x\n              ~\n            \n          \n        \n        \u223c\n        F\n        (\n        \n          \n            \n              x\n              ~\n            \n          \n        \n        \n          |\n        \n        \u03b8\n        )\n      \n    \n    {\\displaystyle {\\tilde {x}}\\sim F({\\tilde {x}}|\\theta )}\n   and \n  \n    \n      \n        \u03b8\n        \u223c\n        G\n        (\n        \u03b8\n        \n          |\n        \n        \u03b1\n        )\n      \n    \n    {\\displaystyle \\theta \\sim G(\\theta |\\alpha )}\n  , then the prior predictive distribution is the corresponding distribution \n  \n    \n      \n        H\n        (\n        \n          \n            \n              x\n              ~\n            \n          \n        \n        \n          |\n        \n        \u03b1\n        )\n      \n    \n    {\\displaystyle H({\\tilde {x}}|\\alpha )}\n  , where\n\n  \n    \n      \n        \n          p\n          \n            H\n          \n        \n        (\n        \n          \n            \n              x\n              ~\n            \n          \n        \n        \n          |\n        \n        \u03b1\n        )\n        =\n        \n          \u222b\n          \n            \u03b8\n          \n        \n        \n          p\n          \n            F\n          \n        \n        (\n        \n          \n            \n              x\n              ~\n            \n          \n        \n        \n          |\n        \n        \u03b8\n        )\n        \n        \n          p\n          \n            G\n          \n        \n        (\n        \u03b8\n        \n          |\n        \n        \u03b1\n        )\n        d\n        \n        \u03b8\n      \n    \n    {\\displaystyle p_{H}({\\tilde {x}}|\\alpha )=\\int _{\\theta }p_{F}({\\tilde {x}}|\\theta )\\,p_{G}(\\theta |\\alpha )\\operatorname {d} \\!\\theta }\n  This is similar to the posterior predictive distribution except that the marginalization (or equivalently, expectation) is taken with respect to the prior distribution instead of the posterior distribution.\nFurthermore, if the prior distribution \n  \n    \n      \n        G\n        (\n        \u03b8\n        \n          |\n        \n        \u03b1\n        )\n      \n    \n    {\\displaystyle G(\\theta |\\alpha )}\n   is a conjugate prior, then the posterior predictive distribution will belong to the same family of distributions as the prior predictive distribution.  This is easy to see.  If the prior distribution \n  \n    \n      \n        G\n        (\n        \u03b8\n        \n          |\n        \n        \u03b1\n        )\n      \n    \n    {\\displaystyle G(\\theta |\\alpha )}\n   is conjugate, then\n\n  \n    \n      \n        p\n        (\n        \u03b8\n        \n          |\n        \n        \n          X\n        \n        ,\n        \u03b1\n        )\n        =\n        \n          p\n          \n            G\n          \n        \n        (\n        \u03b8\n        \n          |\n        \n        \n          \u03b1\n          \u2032\n        \n        )\n        ,\n      \n    \n    {\\displaystyle p(\\theta |\\mathbf {X} ,\\alpha )=p_{G}(\\theta |\\alpha '),}\n  i.e. the posterior distribution also belongs to \n  \n    \n      \n        G\n        (\n        \u03b8\n        \n          |\n        \n        \u03b1\n        )\n        ,\n      \n    \n    {\\displaystyle G(\\theta |\\alpha ),}\n   but simply with a different parameter \n  \n    \n      \n        \n          \u03b1\n          \u2032\n        \n      \n    \n    {\\displaystyle \\alpha '}\n   instead of the original parameter \n  \n    \n      \n        \u03b1\n        .\n      \n    \n    {\\displaystyle \\alpha .}\n   Then,\n\n  \n    \n      \n        \n          \n            \n              \n                p\n                (\n                \n                  \n                    \n                      x\n                      ~\n                    \n                  \n                \n                \n                  |\n                \n                \n                  X\n                \n                ,\n                \u03b1\n                )\n              \n              \n                \n                =\n                \n                  \u222b\n                  \n                    \u03b8\n                  \n                \n                \n                  p\n                  \n                    F\n                  \n                \n                (\n                \n                  \n                    \n                      x\n                      ~\n                    \n                  \n                \n                \n                  |\n                \n                \u03b8\n                )\n                \n                p\n                (\n                \u03b8\n                \n                  |\n                \n                \n                  X\n                \n                ,\n                \u03b1\n                )\n                d\n                \n                \u03b8\n              \n            \n            \n              \n              \n                \n                =\n                \n                  \u222b\n                  \n                    \u03b8\n                  \n                \n                \n                  p\n                  \n                    F\n                  \n                \n                (\n                \n                  \n                    \n                      x\n                      ~\n                    \n                  \n                \n                \n                  |\n                \n                \u03b8\n                )\n                \n                \n                  p\n                  \n                    G\n                  \n                \n                (\n                \u03b8\n                \n                  |\n                \n                \n                  \u03b1\n                  \u2032\n                \n                )\n                d\n                \n                \u03b8\n              \n            \n            \n              \n              \n                \n                =\n                \n                  p\n                  \n                    H\n                  \n                \n                (\n                \n                  \n                    \n                      x\n                      ~\n                    \n                  \n                \n                \n                  |\n                \n                \n                  \u03b1\n                  \u2032\n                \n                )\n              \n            \n          \n        \n      \n    \n    {\\displaystyle {\\begin{aligned}p({\\tilde {x}}|\\mathbf {X} ,\\alpha )&=\\int _{\\theta }p_{F}({\\tilde {x}}|\\theta )\\,p(\\theta |\\mathbf {X} ,\\alpha )\\operatorname {d} \\!\\theta \\\\&=\\int _{\\theta }p_{F}({\\tilde {x}}|\\theta )\\,p_{G}(\\theta |\\alpha ')\\operatorname {d} \\!\\theta \\\\&=p_{H}({\\tilde {x}}|\\alpha ')\\end{aligned}}}\n  Hence, the posterior predictive distribution follows the same distribution H as the prior predictive distribution, but with the posterior values of the hyperparameters substituted for the prior ones.\nThe prior predictive distribution is in the form of a compound distribution, and in fact is often used to define a compound distribution, because of the lack of any complicating factors such as the dependence on the data \n  \n    \n      \n        \n          X\n        \n      \n    \n    {\\displaystyle \\mathbf {X} }\n   and the issue of conjugacy.  For example, the Student's t-distribution can be defined as the prior predictive distribution of a normal distribution with known mean \u03bc but unknown variance \u03c3x2, with a conjugate prior scaled-inverse-chi-squared distribution placed on \u03c3x2, with hyperparameters \u03bd and \u03c32.  The resulting compound distribution \n  \n    \n      \n        t\n        (\n        x\n        \n          |\n        \n        \u03bc\n        ,\n        \u03bd\n        ,\n        \n          \u03c3\n          \n            2\n          \n        \n        )\n      \n    \n    {\\displaystyle t(x|\\mu ,\\nu ,\\sigma ^{2})}\n   is indeed a non-standardized Student's t-distribution, and follows one of the two most common parameterizations of this distribution.  Then, the corresponding posterior predictive distribution would again be Student's t, with the updated hyperparameters \n  \n    \n      \n        \n          \u03bd\n          \u2032\n        \n        ,\n        \n          \n            \n              \u03c3\n              \n                2\n              \n            \n          \n          \u2032\n        \n      \n    \n    {\\displaystyle \\nu ',{\\sigma ^{2}}'}\n   that appear in the posterior distribution also directly appearing in the posterior predictive distribution.\nIn some cases the appropriate compound distribution is defined using a different parameterization than the one that would be most natural for the predictive distributions in the current problem at hand.  Often this results because the prior distribution used to define the compound distribution is different from the one used in the current problem.  For example, as indicated above, the Student's t-distribution was defined in terms of a scaled-inverse-chi-squared distribution placed on the variance.  However, it is more common to use an inverse gamma distribution as the conjugate prior in this situation.  The two are in fact equivalent except for parameterization; hence, the Student's t-distribution can still be used for either predictive distribution, but the hyperparameters must be reparameterized before being plugged in.\n\n\n== In exponential families ==\nMost, but not all, common families of distributions belong to the exponential family of distributions.  Exponential families have a large number of useful properties.  One of which is that all members have conjugate prior distributions \u2014 whereas very few other distributions have conjugate priors.\n\n\n=== Prior predictive distribution in exponential families ===\nAnother useful property is that the probability density function of the compound distribution corresponding to the prior predictive distribution of an exponential family distribution marginalized over its conjugate prior distribution can be determined analytically.  Assume that \n  \n    \n      \n        F\n        (\n        x\n        \n          |\n        \n        \n          \u03b8\n        \n        )\n      \n    \n    {\\displaystyle F(x|{\\boldsymbol {\\theta }})}\n   is a member of the exponential family with parameter \n  \n    \n      \n        \n          \u03b8\n        \n      \n    \n    {\\displaystyle {\\boldsymbol {\\theta }}}\n   that is parametrized according to the natural parameter \n  \n    \n      \n        \n          \u03b7\n        \n        =\n        \n          \u03b7\n        \n        (\n        \n          \u03b8\n        \n        )\n      \n    \n    {\\displaystyle {\\boldsymbol {\\eta }}={\\boldsymbol {\\eta }}({\\boldsymbol {\\theta }})}\n  , and is distributed as\n\n  \n    \n      \n        \n          p\n          \n            F\n          \n        \n        (\n        x\n        \n          |\n        \n        \n          \u03b7\n        \n        )\n        =\n        h\n        (\n        x\n        )\n        g\n        (\n        \n          \u03b7\n        \n        )\n        \n          e\n          \n            \n              \n                \u03b7\n              \n              \n                \n                  T\n                \n              \n            \n            \n              T\n            \n            (\n            x\n            )\n          \n        \n      \n    \n    {\\displaystyle p_{F}(x|{\\boldsymbol {\\eta }})=h(x)g({\\boldsymbol {\\eta }})e^{{\\boldsymbol {\\eta }}^{\\rm {T}}\\mathbf {T} (x)}}\n  while \n  \n    \n      \n        G\n        (\n        \n          \u03b7\n        \n        \n          |\n        \n        \n          \u03c7\n        \n        ,\n        \u03bd\n        )\n      \n    \n    {\\displaystyle G({\\boldsymbol {\\eta }}|{\\boldsymbol {\\chi }},\\nu )}\n   is the appropriate conjugate prior, distributed as\n\n  \n    \n      \n        \n          p\n          \n            G\n          \n        \n        (\n        \n          \u03b7\n        \n        \n          |\n        \n        \n          \u03c7\n        \n        ,\n        \u03bd\n        )\n        =\n        f\n        (\n        \n          \u03c7\n        \n        ,\n        \u03bd\n        )\n        g\n        (\n        \n          \u03b7\n        \n        \n          )\n          \n            \u03bd\n          \n        \n        \n          e\n          \n            \n              \n                \u03b7\n              \n              \n                \n                  T\n                \n              \n            \n            \n              \u03c7\n            \n          \n        \n      \n    \n    {\\displaystyle p_{G}({\\boldsymbol {\\eta }}|{\\boldsymbol {\\chi }},\\nu )=f({\\boldsymbol {\\chi }},\\nu )g({\\boldsymbol {\\eta }})^{\\nu }e^{{\\boldsymbol {\\eta }}^{\\rm {T}}{\\boldsymbol {\\chi }}}}\n  Then the prior predictive distribution \n  \n    \n      \n        H\n      \n    \n    {\\displaystyle H}\n   (the result of compounding \n  \n    \n      \n        F\n      \n    \n    {\\displaystyle F}\n   with \n  \n    \n      \n        G\n      \n    \n    {\\displaystyle G}\n  ) is\n\n  \n    \n      \n        \n          \n            \n              \n                \n                  p\n                  \n                    H\n                  \n                \n                (\n                x\n                \n                  |\n                \n                \n                  \u03c7\n                \n                ,\n                \u03bd\n                )\n              \n              \n                \n                =\n                \n                  \n                    \n                      \u222b\n                      \n                        \u03b7\n                      \n                    \n                    \n                      p\n                      \n                        F\n                      \n                    \n                    (\n                    x\n                    \n                      |\n                    \n                    \n                      \u03b7\n                    \n                    )\n                    \n                      p\n                      \n                        G\n                      \n                    \n                    (\n                    \n                      \u03b7\n                    \n                    \n                      |\n                    \n                    \n                      \u03c7\n                    \n                    ,\n                    \u03bd\n                    )\n                    \n                    d\n                    \u2061\n                    \n                      \u03b7\n                    \n                  \n                \n              \n            \n            \n              \n              \n                \n                =\n                \n                  \n                    \n                      \u222b\n                      \n                        \u03b7\n                      \n                    \n                    h\n                    (\n                    x\n                    )\n                    g\n                    (\n                    \n                      \u03b7\n                    \n                    )\n                    \n                      e\n                      \n                        \n                          \n                            \u03b7\n                          \n                          \n                            \n                              T\n                            \n                          \n                        \n                        \n                          T\n                        \n                        (\n                        x\n                        )\n                      \n                    \n                    f\n                    (\n                    \n                      \u03c7\n                    \n                    ,\n                    \u03bd\n                    )\n                    g\n                    (\n                    \n                      \u03b7\n                    \n                    \n                      )\n                      \n                        \u03bd\n                      \n                    \n                    \n                      e\n                      \n                        \n                          \n                            \u03b7\n                          \n                          \n                            \n                              T\n                            \n                          \n                        \n                        \n                          \u03c7\n                        \n                      \n                    \n                    \n                    d\n                    \u2061\n                    \n                      \u03b7\n                    \n                  \n                \n              \n            \n            \n              \n              \n                \n                =\n                \n                  \n                    h\n                    (\n                    x\n                    )\n                    f\n                    (\n                    \n                      \u03c7\n                    \n                    ,\n                    \u03bd\n                    )\n                    \n                      \u222b\n                      \n                        \u03b7\n                      \n                    \n                    g\n                    (\n                    \n                      \u03b7\n                    \n                    \n                      )\n                      \n                        \u03bd\n                        +\n                        1\n                      \n                    \n                    \n                      e\n                      \n                        \n                          \n                            \u03b7\n                          \n                          \n                            \n                              T\n                            \n                          \n                        \n                        (\n                        \n                          \u03c7\n                        \n                        +\n                        \n                          T\n                        \n                        (\n                        x\n                        )\n                        )\n                      \n                    \n                    \n                    d\n                    \u2061\n                    \n                      \u03b7\n                    \n                  \n                \n              \n            \n            \n              \n              \n                \n                =\n                h\n                (\n                x\n                )\n                \n                  \n                    \n                      \n                        f\n                        (\n                        \n                          \u03c7\n                        \n                        ,\n                        \u03bd\n                        )\n                      \n                      \n                        f\n                        (\n                        \n                          \u03c7\n                        \n                        +\n                        \n                          T\n                        \n                        (\n                        x\n                        )\n                        ,\n                        \u03bd\n                        +\n                        1\n                        )\n                      \n                    \n                  \n                \n              \n            \n          \n        \n      \n    \n    {\\displaystyle {\\begin{aligned}p_{H}(x|{\\boldsymbol {\\chi }},\\nu )&={\\displaystyle \\int \\limits _{\\boldsymbol {\\eta }}p_{F}(x|{\\boldsymbol {\\eta }})p_{G}({\\boldsymbol {\\eta }}|{\\boldsymbol {\\chi }},\\nu )\\,\\operatorname {d} {\\boldsymbol {\\eta }}}\\\\&={\\displaystyle \\int \\limits _{\\boldsymbol {\\eta }}h(x)g({\\boldsymbol {\\eta }})e^{{\\boldsymbol {\\eta }}^{\\rm {T}}\\mathbf {T} (x)}f({\\boldsymbol {\\chi }},\\nu )g({\\boldsymbol {\\eta }})^{\\nu }e^{{\\boldsymbol {\\eta }}^{\\rm {T}}{\\boldsymbol {\\chi }}}\\,\\operatorname {d} {\\boldsymbol {\\eta }}}\\\\&={\\displaystyle h(x)f({\\boldsymbol {\\chi }},\\nu )\\int \\limits _{\\boldsymbol {\\eta }}g({\\boldsymbol {\\eta }})^{\\nu +1}e^{{\\boldsymbol {\\eta }}^{\\rm {T}}({\\boldsymbol {\\chi }}+\\mathbf {T} (x))}\\,\\operatorname {d} {\\boldsymbol {\\eta }}}\\\\&=h(x){\\dfrac {f({\\boldsymbol {\\chi }},\\nu )}{f({\\boldsymbol {\\chi }}+\\mathbf {T} (x),\\nu +1)}}\\end{aligned}}}\n  The last line follows from the previous one by recognizing that the function inside the integral is the density function of a random variable distributed as \n  \n    \n      \n        G\n        (\n        \n          \u03b7\n        \n        \n          |\n        \n        \n          \u03c7\n        \n        +\n        \n          T\n        \n        (\n        x\n        )\n        ,\n        \u03bd\n        +\n        1\n        )\n      \n    \n    {\\displaystyle G({\\boldsymbol {\\eta }}|{\\boldsymbol {\\chi }}+\\mathbf {T} (x),\\nu +1)}\n  , excluding the normalizing function \n  \n    \n      \n        f\n        (\n        \u2026\n        )\n        \n      \n    \n    {\\displaystyle f(\\dots )\\,}\n  . Hence the result of the integration will be the reciprocal of the normalizing function.\nThe above result is independent of choice of parametrization of \n  \n    \n      \n        \n          \u03b8\n        \n      \n    \n    {\\displaystyle {\\boldsymbol {\\theta }}}\n  , as none of \n  \n    \n      \n        \n          \u03b8\n        \n      \n    \n    {\\displaystyle {\\boldsymbol {\\theta }}}\n  , \n  \n    \n      \n        \n          \u03b7\n        \n      \n    \n    {\\displaystyle {\\boldsymbol {\\eta }}}\n   and \n  \n    \n      \n        g\n        (\n        \u2026\n        )\n        \n      \n    \n    {\\displaystyle g(\\dots )\\,}\n   appears. (\n  \n    \n      \n        g\n        (\n        \u2026\n        )\n        \n      \n    \n    {\\displaystyle g(\\dots )\\,}\n   is a function of the parameter and hence will assume different forms depending on choice of parametrization.) For standard choices of \n  \n    \n      \n        F\n      \n    \n    {\\displaystyle F}\n   and \n  \n    \n      \n        G\n      \n    \n    {\\displaystyle G}\n  , it is often easier to work directly with the usual parameters rather than rewrite in terms of the natural parameters.\nThe reason the integral is tractable is that it involves computing the normalization constant of a density defined by the product of a prior distribution and a likelihood. When the two are conjugate, the product is a posterior distribution, and by assumption, the normalization constant of this distribution is known. As shown above, the density function of the compound distribution follows a particular form, consisting of the product of the function \n  \n    \n      \n        h\n        (\n        x\n        )\n      \n    \n    {\\displaystyle h(x)}\n   that forms part of the density function for \n  \n    \n      \n        F\n      \n    \n    {\\displaystyle F}\n  , with the quotient of two forms of the normalization "constant" for \n  \n    \n      \n        G\n      \n    \n    {\\displaystyle G}\n  , one derived from a prior distribution and the other from a posterior distribution. The beta-binomial distribution is a good example of how this process works.\nDespite the analytical tractability of such distributions, they are in themselves usually not members of the exponential family.  For example, the three-parameter Student's t distribution, beta-binomial distribution and Dirichlet-multinomial distribution are all predictive distributions of exponential-family distributions (the normal distribution, binomial distribution and multinomial distributions, respectively), but none are members of the exponential family.  This can be seen above due to the presence of functional dependence on \n  \n    \n      \n        \n          \u03c7\n        \n        +\n        \n          T\n        \n        (\n        x\n        )\n      \n    \n    {\\displaystyle {\\boldsymbol {\\chi }}+\\mathbf {T} (x)}\n  . In an exponential-family distribution, it must be possible to separate the entire density function into multiplicative factors of three types: (1) factors containing only variables, (2) factors containing only parameters, and (3) factors whose logarithm factorizes between variables and parameters. The presence of \n  \n    \n      \n        \n          \u03c7\n        \n        +\n        \n          T\n        \n        (\n        x\n        )\n        \n          \u03c7\n        \n      \n    \n    {\\displaystyle {\\boldsymbol {\\chi }}+\\mathbf {T} (x){\\chi }}\n   makes this impossible unless the "normalizing" function \n  \n    \n      \n        f\n        (\n        \u2026\n        )\n        \n      \n    \n    {\\displaystyle f(\\dots )\\,}\n  either ignores the corresponding argument entirely or uses it only in the exponent of an expression.\n\n\n=== Posterior predictive distribution in exponential families ===\nWhen a conjugate prior is being used, the posterior predictive distribution belongs to the same family as the prior predictive distribution, and is determined simply by plugging the updated hyperparameters for the posterior distribution of the parameter(s) into the formula for the prior predictive distribution. Using the general form of the posterior update equations for exponential-family distributions (see the appropriate section in the exponential family article), we can write out an explicit formula for the posterior predictive distribution:\n\n  \n    \n      \n        \n          \n            \n              \n                p\n                (\n                \n                  \n                    \n                      x\n                      ~\n                    \n                  \n                \n                \n                  |\n                \n                \n                  X\n                \n                ,\n                \n                  \u03c7\n                \n                ,\n                \u03bd\n                )\n              \n              \n                =\n              \n              \n                \n                  p\n                  \n                    H\n                  \n                \n                \n                  (\n                  \n                    \n                      \n                        \n                          x\n                          ~\n                        \n                      \n                    \n                    \n                      |\n                    \n                    \n                      \u03c7\n                    \n                    +\n                    \n                      T\n                    \n                    (\n                    \n                      X\n                    \n                    )\n                    ,\n                    \u03bd\n                    +\n                    N\n                  \n                  )\n                \n              \n            \n          \n        \n      \n    \n    {\\displaystyle {\\begin{array}{lcl}p({\\tilde {x}}|\\mathbf {X} ,{\\boldsymbol {\\chi }},\\nu )&=&p_{H}\\left({\\tilde {x}}|{\\boldsymbol {\\chi }}+\\mathbf {T} (\\mathbf {X} ),\\nu +N\\right)\\end{array}}}\n  where\n\n  \n    \n      \n        \n          T\n        \n        (\n        \n          X\n        \n        )\n        =\n        \n          \u2211\n          \n            i\n            =\n            1\n          \n          \n            N\n          \n        \n        \n          T\n        \n        (\n        \n          x\n          \n            i\n          \n        \n        )\n      \n    \n    {\\displaystyle \\mathbf {T} (\\mathbf {X} )=\\sum _{i=1}^{N}\\mathbf {T} (x_{i})}\n  This shows that the posterior predictive distribution of a series of observations, in the case where the observations follow an exponential family with the appropriate conjugate prior, has the same probability density as the compound distribution, with parameters as specified above.\nThe observations themselves enter only in the form  \n  \n    \n      \n        \n          T\n        \n        (\n        \n          X\n        \n        )\n        =\n        \n          \u2211\n          \n            i\n            =\n            1\n          \n          \n            N\n          \n        \n        \n          T\n        \n        (\n        \n          x\n          \n            i\n          \n        \n        )\n        .\n      \n    \n    {\\displaystyle \\mathbf {T} (\\mathbf {X} )=\\sum _{i=1}^{N}\\mathbf {T} (x_{i}).}\n  \nThis is termed the sufficient statistic of the observations, because it tells us everything we need to know about the observations in order to compute a posterior or posterior predictive distribution based on them (or, for that matter, anything else based on the likelihood of the observations, such as the marginal likelihood).\n\n\n=== Joint predictive distribution, marginal likelihood ===\nIt is also possible to consider the result of compounding a joint distribution over a fixed number of independent identically distributed samples with a prior distribution over a shared parameter. In a Bayesian setting, this comes up in various contexts: computing the prior or posterior predictive distribution of multiple new observations, and computing the marginal likelihood of observed data (the denominator in Bayes' law). When the distribution of the samples is from the exponential family and the prior distribution is conjugate, the resulting compound distribution will be tractable and follow a similar form to the expression above. It is easy to show, in fact, that the joint compound distribution of a set \n  \n    \n      \n        \n          X\n        \n        =\n        {\n        \n          x\n          \n            1\n          \n        \n        ,\n        \u2026\n        ,\n        \n          x\n          \n            N\n          \n        \n        }\n      \n    \n    {\\displaystyle \\mathbf {X} =\\{x_{1},\\dots ,x_{N}\\}}\n   for \n  \n    \n      \n        N\n      \n    \n    {\\displaystyle N}\n   observations is\n\n  \n    \n      \n        \n          p\n          \n            H\n          \n        \n        (\n        \n          X\n        \n        \n          |\n        \n        \n          \u03c7\n        \n        ,\n        \u03bd\n        )\n        =\n        \n          (\n          \n            \n              \u220f\n              \n                i\n                =\n                1\n              \n              \n                N\n              \n            \n            h\n            (\n            \n              x\n              \n                i\n              \n            \n            )\n          \n          )\n        \n        \n          \n            \n              \n                f\n                (\n                \n                  \u03c7\n                \n                ,\n                \u03bd\n                )\n              \n              \n                f\n                \n                  (\n                  \n                    \n                      \u03c7\n                    \n                    +\n                    \n                      T\n                    \n                    (\n                    \n                      X\n                    \n                    )\n                    ,\n                    \u03bd\n                    +\n                    N\n                  \n                  )\n                \n              \n            \n          \n        \n      \n    \n    {\\displaystyle p_{H}(\\mathbf {X} |{\\boldsymbol {\\chi }},\\nu )=\\left(\\prod _{i=1}^{N}h(x_{i})\\right){\\dfrac {f({\\boldsymbol {\\chi }},\\nu )}{f\\left({\\boldsymbol {\\chi }}+\\mathbf {T} (\\mathbf {X} ),\\nu +N\\right)}}}\n  This result and the above result for a single compound distribution extend trivially to the case of a distribution over a vector-valued observation, such as a multivariate Gaussian distribution.\n\n\n== Relation to Gibbs sampling ==\nCollapsing out a node in a collapsed Gibbs sampler is equivalent to compounding. As a result, when a set of independent identically distributed (i.i.d.) nodes all depend on the same prior node, and that node is collapsed out, the resulting conditional probability of one node given the others as well as the parents of the collapsed-out node (but not conditioning on any other nodes, e.g. any child nodes) is the same as the posterior predictive distribution of all the remaining i.i.d. nodes (or more correctly, formerly i.i.d. nodes, since collapsing introduces dependencies among the nodes). That is, it is generally possible to implement collapsing out of a node simply by attaching all parents of the node directly to all children, and replacing the former conditional probability distribution associated with each child with the corresponding posterior predictive distribution for the child conditioned on its parents and the other formerly i.i.d. nodes that were also children of the removed node. For an example, for more specific discussion and for some cautions about certain tricky issues, see the Dirichlet-multinomial distribution article.\n\n\n== See also ==\nCompound probability distribution\nMarginal probability\nPrediction interval#Bayesian statistics\n\n\n== References ==